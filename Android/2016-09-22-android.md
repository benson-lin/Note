## 系统架构

1. Linux 内核层
Android 系统是基于 Linux 2.6 内核的，这一层为 Android 设备的各种硬件提供了**底
层的驱动**，如显示驱动、音频驱动、照相机驱动、蓝牙驱动、 Wi-Fi 驱动、电源管理等。
2. 系统运行库层
这一层通过一些 **C/C++库**来为 Android 系统提供了主要的**特性支持**。如 SQLite 库提
供了数据库的支持， OpenGL|ES 库提供了 3D 绘图的支持， Webkit 库提供了浏览器内核
的支持等。
同样在这一层还有 **Android 运行时库**，它主要提供了一些核心库，能够允许开发者
使用 Java 语言来编写 Android 应用。另外 Android 运行时库中还包含了 **Dalvik 虚拟机**，
它使得每一个 Android 应用都能运行在独立的进程当中，并且拥有一个自己的 Dalvik 虚
拟机实例。相较于 Java 虚拟机， Dalvik 是专门为移动设备定制的，它针对手机内存、
CPU 性能有限等情况做了优化处理。
3. 应用框架层
这一层主要提供了构建应用程序时可能用到的各种 API， Android 自带的一些核心
应用就是使用这些API完成的，开发者也可以通过使用这些API来构建自己的应用程序。
4. 应用层
所有安装在手机上的应用程序都是属于这一层的，比如系统自带的联系人、短信等
程序，或者是你从 Google Play 上下载的小游戏，当然还包括你自己开发的程序。


## Android 应用开发特色

### 四大组件

Android 系统四大组件分别是**活动（ Activity）、服务（ Service）、广播接收器（ Broadcast
Receiver）和内容提供器（ Content Provider）**。

其中活动是所有 Android 应用程序的门面，
凡是在应用中你看得到的东西，都是放在活动中的。而服务就比较低调了，你无法看到
它，但它会一直在后台默默地运行，即使用户退出了应用，服务仍然是可以继续运行的。
广播接收器可以允许你的应用接收来自各处的广播消息，比如电话、短信等，当然你的
应用同样也可以向外发出广播消息。内容提供器则为应用程序之间共享数据提供了可
能，比如你想要读取系统电话簿中的联系人，就需要通过内容提供器来实现。

### 丰富的系统控件

Android 系统为开发者提供了丰富的系统控件，使得我们可以很轻松地编写出漂亮
的界面。当然如果你品味比较高，不满足于系统自带的控件效果，也完全可以定制属于自己的控件。

### SQLite 数据库

Android 系统还自带了这种轻量级、运算速度极快的嵌入式关系型数据库。它不仅
支持标准的 SQL 语法，还可以通过 Android 封装好的 API 进行操作，让存储和读取数据
变得非常方便。

### 地理位置定位
移动设备和 PC 相比起来，地理位置定位功能应该可以算是很大的一个亮点。现在
的 Android 手机都内置有 GPS，走到哪儿都可以定位到自己的位置，发挥你的想象就可
以做出创意十足的应用，如果再结合上功能强大的地图功能， LBS 这一领域潜力无限。

### 强大的多媒体

Android 系统还提供了丰富的多媒体服务，如音乐、视频、录音、拍照、闹铃等等，
这一切你都可以在程序中通过代码进行控制，让你的应用变得更加丰富多彩。

### 传感器

Android 手机中都会内置多种传感器，如加速度传感器、方向传感器等，这也算是
移动设备的一大特点。通过灵活地使用这些传感器，你可以做出很多在 PC 上根本无法
实现的应用。


## Hello World 程序目录结构


1. src
毫无疑问， src 目录是放置我们所有 Java 代码的地方，它在这里的含义和普通 Java
项目下的 src 目录是完全一样的，展开之后你将看到我们刚才创建的 HelloWorldActivity
文件就在里面。
2. gen
这个目录里的内容都是自动生成的，主要有一个 R.java 文件，你在项目中添加的任
何资源都会在其中生成一个相应的资源 id。这个文件永远不要手动去修改它。
3. assets
这个目录用得不多，主要可以存放一些随程序打包的文件，在你的程序运行时可以
动态读取到这些文件的内容。另外，如果你的程序中使用到了 WebView 加载本地网页
的功能，所有网页相关的文件也都存放在这个目录下。
4. bin
这个目录你也不需要过多关注，它主要包含了一些在编译时自动产生的文件。其中
会有一个你当前项目编译好的安装包，展开 bin 目录你会看到 HelloWorld.apk，把这个
文件拷到手机上就可以直接安装了。
5. libs
如果你的项目中使用到了第三方 Jar 包，就需要把这些 Jar 包都放在 libs 目录下，放
在这个目录下的 Jar 包都会被自动添加到构建路径里去。
6. res
这个目录下的内容就有点多了，简单点说，就是你在项目中使用到的所有图片、布
局、字符串等资源都要存放在这个目录下，前面提到的 R.java 中的内容也是根据这个目
录下的文件自动生成的。当然这个目录下还有很多的子目录，图片放在 drawable 目录下，
布局放在 layout 目录下，字符串放在 values 目录下，所以你不用担心会把整个 res 目录
弄得乱糟糟的。
7. AndroidManifest.xml
这是你整个 Android 项目的配置文件，你在程序中定义的所有四大组件都需要在这
个文件里注册。另外还可以在这个文件中给应用程序添加权限声明，也可以重新指定你
创建项目时指定的程序最低兼容版本和目标版本。由于这个文件以后会经常用到，我们
用到的时候再做详细说明。
8. project.properties
这个文件非常地简单，就是通过一行代码指定了编译程序时所使用的 SDK 版本。


### res 目录

所有以drawable开头的文件夹都是用来放图片的，所有以 values开头的文件夹都是用来放字符串的，
layout 文件夹是用来放布局文件的， menu 文件夹是用来放菜单文件的。

之所以有这么多 drawable 开头的文件夹，其实主要是为了让程序能够兼容
更多的设备。在制作程序的时候最好能够给同一张图片提供几个不同分辨率的副本，分别放
在这些文件夹下，然后当程序运行的时候会自动根据当前运行设备分辨率的高低选择加载哪
个文件夹下的图片。当然这只是理想情况，更多的时候美工只会提供给我们一份图片，这时
你就把所有图片都放在 drawable-hdpi 文件夹下就好了。

如何去使用这些资源

比如刚刚在 strings.xml 中找到的 Hello world!字符串，我们有两种方式可以引用它：
1. 在代码中通过 R.string.hello_world 可以获得该字符串的引用；
2. 在 XML 中通过@string/hello_world 可以获得该字符串的引用。

基本的语法就是上面两种方式，其中 string 部分是可以替换的，如果是引用的图片资源
就可以替换成 drawable，如果是引用的布局文件就可以替换成 layout，以此类推。

HelloWorld 项 目 的 图 标 就 是 在 AndroidManifest.xml 中 通 过
android:icon="@drawable/ic_launcher"来指定的，ic_launcher这张图片就在 drawable文件夹下


## 日志工具 LogCat

首先需要打开logcat视图

Android中的日志工具类是 Log （ android.util.Log），这个类中提供了如下几个方法来供我们打印日志

1. Log.v()
这个方法用于打印那些最为琐碎的，意义最小的日志信息。对应级别 verbose，是
Android 日志里面级别最低的一种。
2. Log.d()
这个方法用于打印一些调试信息，这些信息对你调试程序和分析问题应该是有帮助
的。对应级别 debug，比 verbose 高一级。
3. Log.i()
这个方法用于打印一些比较重要的数据，这些数据应该是你非常想看到的，可以帮
你分析用户行为的那种。对应级别 info，比 debug 高一级。
4. Log.w()
这个方法用于打印一些警告信息，提示程序在这个地方可能会有潜在的风险，最好
去修复一下这些出现警告的地方。对应级别 warn，比 info 高一级。
5. Log.e()
这个方法用于打印程序中的错误信息，比如程序进入到了 catch 语句当中。当有错
误信息打印出来的时候，一般都代表你的程序出现严重问题了，必须尽快修复。对应级
别 error，比 warn 高一级。


### 为什么使用 Log 而不使用 System.out

为什么 System.out.println()方法会这么遭大家唾弃呢？经过我仔细分析之后，发现这个
方法除了使用方便一点之外，其他就一无是处了。方便在哪儿呢？在 Eclipse 中你只需要输
入 syso，然后按下代码提示键，这个方法就会自动出来了，相信这也是很多 Java 新手对它
钟情的原因。那缺点又在哪儿了呢？这个就太多了，比如日志打印不可控制、打印时间无法
确定、不能添加过滤器、日志没有级别区分……


